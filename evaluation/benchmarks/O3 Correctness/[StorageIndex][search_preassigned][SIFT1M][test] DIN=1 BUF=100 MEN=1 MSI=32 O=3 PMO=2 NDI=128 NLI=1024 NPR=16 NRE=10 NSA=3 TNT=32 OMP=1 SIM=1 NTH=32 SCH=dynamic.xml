<?xml version="1.0" encoding="UTF-8"?>
<Catch name="testmain" filters="[StorageIndex][search_preassigned][SIFT1M][test]">
  <Group name="testmain">
    <TestCase name="Scenario: search_preassigned(): test recall with SIFT1M" tags="[SIFT1M][StorageIndex][recall][search_preassigned][test]" filename="tests/IndexTest.cpp" line="329">
      <Section name="Given: the SIFT1M dataset" filename="tests/IndexTest.cpp" line="331">
        <Section name="Then: all required files are present" filename="tests/IndexTest.cpp" line="136">
          <Section name="When: the files are mapped to memory" filename="tests/IndexTest.cpp" line="145">
            <Section name="Then: the files are mapped correctly" filename="tests/IndexTest.cpp" line="165">
              <OverallResults successes="6" failures="0" expectedFailures="0"/>
            </Section>
            <OverallResults successes="6" failures="0" expectedFailures="0"/>
          </Section>
          <OverallResults successes="12" failures="0" expectedFailures="0"/>
        </Section>
        <OverallResults successes="12" failures="0" expectedFailures="0"/>
      </Section>
      <Section name="Given: the SIFT1M dataset" filename="tests/IndexTest.cpp" line="331">
        <Section name="Then: all required files are present" filename="tests/IndexTest.cpp" line="136">
          <Section name="When: the files are mapped to memory" filename="tests/IndexTest.cpp" line="145">
            <Section name="When: the StorageLists object is populated with the vectors, ids and list ids and used to initialize an StorageIndex object" filename="tests/IndexTest.cpp" line="178">
              <Section name="When: for each query vector, the closest centroids are determined, their lists are searched for the nearest n_results neighbors" filename="tests/IndexTest.cpp" line="347">
                <Warning>
                  max_n_threads := 32
                </Warning>
                <Warning>
                  n_lists := 1024
                </Warning>
                <Warning>
                  n_probes := 16
                </Warning>
                <Warning>
                  n_results := 10
                </Warning>
                <Warning>
                  Recall@1 := 0.9476
                </Warning>
                <Section name="Then: the Recall@1 is 100% if we search all lists" filename="tests/IndexTest.cpp" line="364">
                  <OverallResults successes="0" failures="0" expectedFailures="0"/>
                </Section>
                <OverallResults successes="1" failures="0" expectedFailures="0"/>
              </Section>
              <OverallResults successes="1" failures="0" expectedFailures="0"/>
            </Section>
            <OverallResults successes="1" failures="0" expectedFailures="0"/>
          </Section>
          <OverallResults successes="7" failures="0" expectedFailures="0"/>
        </Section>
        <OverallResults successes="7" failures="0" expectedFailures="0"/>
      </Section>
      <OverallResult success="true"/>
    </TestCase>
    <OverallResults successes="19" failures="0" expectedFailures="0"/>
    <OverallResultsCases successes="1" failures="0" expectedFailures="0"/>
  </Group>
  <OverallResults successes="19" failures="0" expectedFailures="0"/>
  <OverallResultsCases successes="1" failures="0" expectedFailures="0"/>
</Catch>
